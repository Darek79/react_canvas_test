{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/media/darek/Seagate Expansion Drive/WebstormProjects/react_canvas_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/media/darek/Seagate Expansion Drive/WebstormProjects/react_canvas_test/src/component/canvas.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable */\nimport React, { useEffect, useRef, useState } from \"react\";\nexport const Canvas = () => {\n  _s();\n\n  console.log(window.innerWidth / 2);\n  const canvasRef = useRef(null);\n  const mouseXRef = useRef(0);\n  const mouseYRef = useRef(0);\n  const counterRef = useRef(0);\n  const posXRef = useRef(window.innerWidth / 2);\n  const posYRef = useRef(window.innerHeight / 2);\n  const angleRef = useRef(0);\n  const scaleRef = useRef(10);\n  const radiusRef = useRef(0);\n  const sizeRef = useRef(5);\n  const canY = useRef(0);\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        click = _useState2[0],\n        setClick = _useState2[1];\n\n  const mouseClick = () => {\n    setClick(p => !p);\n  };\n\n  const mouseMove = () => {};\n\n  const draw = (ctx, frame) => {\n    ctx.fillStyle = \"hsl(\".concat(Math.floor(Math.random() * 255 + 1), \",30%,50%)\");\n    ctx.lineWidth = 2;\n    ctx.beginPath();\n    ctx.arc(posXRef.current, posYRef.current, sizeRef.current, 0, 2 * Math.PI);\n    ctx.fill();\n    ctx.stroke();\n  };\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n    const ctx = canvas.getContext(\"2d\");\n    let frameC = 5;\n    let animCancel;\n    let timeoutCancel;\n\n    const render = () => {\n      draw(ctx, frameC);\n      timeoutCancel = setTimeout(() => {\n        if (sizeRef.current < 100) {\n          sizeRef.current += 0.2;\n        }\n\n        angleRef.current = counterRef.current * 0.5;\n        radiusRef.current = scaleRef.current * Math.sqrt(angleRef.current);\n        posXRef.current += radiusRef.current * Math.sin(angleRef.current);\n        posYRef.current += radiusRef.current * Math.cos(angleRef.current); // console.log(Math.floor(posXRef.current));\n\n        counterRef.current++;\n        console.log(counterRef.current); // angleRef.current +=\n        // \t0.1 > -0.9 ? (angleRef.current += 0.1) : (angleRef.current -= 0.1);\n\n        if (counterRef.current < 600) {\n          animCancel = window.requestAnimationFrame(render);\n        }\n      }, 1000 / 40);\n    };\n\n    if (click) {\n      render();\n    }\n\n    return () => {\n      window.cancelAnimationFrame(animCancel);\n      clearTimeout(timeoutCancel);\n    };\n  }, [draw, click]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"canvas_wrapper\",\n    onClick: mouseClick,\n    children: [console.log(click), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      onMouseMove: mouseMove,\n      className: \"canvas\",\n      ref: canvasRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Canvas, \"717oWm5iPOvgiyjtAgfkRL5gSVA=\");\n\n_c = Canvas;\n\nvar _c;\n\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"sources":["/media/darek/Seagate Expansion Drive/WebstormProjects/react_canvas_test/src/component/canvas.js"],"names":["React","useEffect","useRef","useState","Canvas","console","log","window","innerWidth","canvasRef","mouseXRef","mouseYRef","counterRef","posXRef","posYRef","innerHeight","angleRef","scaleRef","radiusRef","sizeRef","canY","click","setClick","mouseClick","p","mouseMove","draw","ctx","frame","fillStyle","Math","floor","random","lineWidth","beginPath","arc","current","PI","fill","stroke","canvas","width","height","getContext","frameC","animCancel","timeoutCancel","render","setTimeout","sqrt","sin","cos","requestAnimationFrame","cancelAnimationFrame","clearTimeout"],"mappings":"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","sourcesContent":["/* eslint-disable */\r\nimport React, {useEffect, useRef, useState} from \"react\";\r\n\r\nexport const Canvas = () => {\r\n  console.log(window.innerWidth / 2);\r\n  const canvasRef = useRef(null);\r\n  const mouseXRef = useRef(0);\r\n  const mouseYRef = useRef(0);\r\n  const counterRef = useRef(0);\r\n  const posXRef = useRef(window.innerWidth / 2);\r\n  const posYRef = useRef(window.innerHeight / 2);\r\n  const angleRef = useRef(0);\r\n  const scaleRef = useRef(10);\r\n  const radiusRef = useRef(0);\r\n  const sizeRef = useRef(5);\r\n  const canY = useRef(0);\r\n  const [click, setClick] = useState(false);\r\n\r\n  const mouseClick = () => {\r\n    setClick((p) => !p);\r\n  };\r\n  const mouseMove = () => {};\r\n\r\n  const draw = (ctx, frame) => {\r\n    ctx.fillStyle = `hsl(${Math.floor(Math.random() * 255 + 1)},30%,50%)`;\r\n\r\n    ctx.lineWidth = 2;\r\n    ctx.beginPath();\r\n    ctx.arc(posXRef.current, posYRef.current, sizeRef.current, 0, 2 * Math.PI);\r\n    ctx.fill();\r\n    ctx.stroke();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    canvas.width = window.innerWidth;\r\n    canvas.height = window.innerHeight;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    let frameC = 5;\r\n    let animCancel;\r\n    let timeoutCancel;\r\n\r\n    const render = () => {\r\n      draw(ctx, frameC);\r\n      timeoutCancel = setTimeout(() => {\r\n        if (sizeRef.current < 100) {\r\n          sizeRef.current += 0.2;\r\n        }\r\n        angleRef.current = counterRef.current * 0.5;\r\n        radiusRef.current = scaleRef.current * Math.sqrt(angleRef.current);\r\n        posXRef.current += radiusRef.current * Math.sin(angleRef.current);\r\n        posYRef.current += radiusRef.current * Math.cos(angleRef.current);\r\n        // console.log(Math.floor(posXRef.current));\r\n        counterRef.current++;\r\n        console.log(counterRef.current);\r\n\r\n        // angleRef.current +=\r\n        // \t0.1 > -0.9 ? (angleRef.current += 0.1) : (angleRef.current -= 0.1);\r\n        if (counterRef.current < 600) {\r\n          animCancel = window.requestAnimationFrame(render);\r\n        }\r\n      }, 1000 / 40);\r\n    };\r\n\r\n    if (click) {\r\n      render();\r\n    }\r\n\r\n    return () => {\r\n      window.cancelAnimationFrame(animCancel);\r\n      clearTimeout(timeoutCancel);\r\n    };\r\n  }, [draw, click]);\r\n\r\n  return (\r\n    <section className=\"canvas_wrapper\" onClick={mouseClick}>\r\n      {console.log(click)}\r\n      <canvas\r\n        onMouseMove={mouseMove}\r\n        className=\"canvas\"\r\n        ref={canvasRef}\r\n      ></canvas>\r\n    </section>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}